<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Debug Splite</title>
    <style>
        body {
            background: #333;
            color: white;
            font-family: sans-serif;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            width: fit-content;
        }

        .cell {
            text-align: center;
            border: 1px solid #555;
            padding: 5px;
            background: rgba(0, 0, 0, 0.2);
            width: 140px;
        }

        canvas {
            border: 1px solid #777;
            background: rgba(255, 255, 255, 0.1);
        }

        .name {
            font-weight: bold;
            margin-top: 5px;
            font-size: 14px;
            min-height: 20px;
            word-break: break-all;
        }

        .id {
            color: #aaa;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <h1>Sprite Debug Viewer</h1>
    <img id="source" src="poke.png" style="display:none">
    <div id="grid" class="grid"></div>

    <script>
        // Full list of 151 Pokemon + Special characters
        const ALL_NAMES = {
            1: "フシギダネ", 2: "フシギソウ", 3: "フシギバナ", 4: "ヒトカゲ", 5: "リザード", 6: "リザードン",
            7: "ゼニガメ", 8: "カメール", 9: "カメックス", 10: "キャタピー", 11: "トランセル", 12: "バタフリー",
            13: "ビードル", 14: "コクーン", 15: "スピアー", 16: "ポッポ", 17: "ピジョン", 18: "ピジョット",
            19: "コラッタ", 20: "ラッタ", 21: "オニスズメ", 22: "オニドリル", 23: "アーボ", 24: "アーボック",
            25: "ピカチュウ", 26: "ライチュウ", 27: "サンド", 28: "サンドパン", 29: "ニドラン♀", 30: "ニドリーナ",
            31: "ニドクイン", 32: "ニドラン♂", 33: "ニドリーノ", 34: "ニドキング", 35: "ピッピ", 36: "ピクシー",
            37: "ロコン", 38: "キュウコン", 39: "プリン", 40: "プクリン", 41: "ズバット", 42: "ゴルバット",
            43: "ナゾノクサ", 44: "クサイハナ", 45: "ラフレシア", 46: "パラス", 47: "パラセクト", 48: "コンパン",
            49: "モルフォン", 50: "ディグダ", 51: "ダグトリオ", 52: "ニャース", 53: "ペルシアン", 54: "コダック",
            55: "ゴルダック", 56: "マンキー", 57: "オコリザル", 58: "ガーディ", 59: "ウインディ", 60: "ニョロモ",
            61: "ニョロゾ", 62: "ニョロボン", 63: "ケーシィ", 64: "ユンゲラー", 65: "フーディン", 66: "ワンリキー",
            67: "ゴーリキー", 68: "カイリキー", 69: "マダツボミ", 70: "ウツドン", 71: "ウツボット", 72: "メノクラゲ",
            73: "ドククラゲ", 74: "イシツブテ", 75: "ゴローン", 76: "ゴローニャ", 77: "ポニータ", 78: "ギャロップ",
            79: "ヤドン", 80: "ヤドラン", 81: "コイル", 82: "レアコイル", 83: "カモネギ", 84: "ドードー",
            85: "ドードリオ", 86: "パウワウ", 87: "ジュゴン", 88: "ベトベター", 89: "ベトベトン", 90: "シェルダー",
            91: "パルシェン", 92: "ゴース", 93: "ゴースト", 94: "ゲンガー", 95: "イワーク", 96: "スリープ",
            97: "スリーパー", 98: "クラブ", 99: "キングラー", 100: "ビリリダマ", 101: "マルマイン", 102: "タマタマ",
            103: "ナッシー", 104: "カラカラ", 105: "ガラガラ", 106: "サワムラー", 107: "エビワラー", 108: "ベロリンガ",
            109: "ドガース", 110: "マタドガス", 111: "サイホーン", 112: "サイドン", 113: "ラッキー", 114: "モンジャラ",
            115: "ガルーラ", 116: "タッツー", 117: "シードラ", 118: "トサキント", 119: "アズマオウ", 120: "ヒトデマン",
            121: "スターミー", 122: "バリヤード", 123: "ストライク", 124: "ルージュラ", 125: "エレブー", 126: "ブーバー",
            127: "カイロス", 128: "ケンタロス", 129: "コイキング", 130: "ギャラドス", 131: "ラプラス", 132: "メタモン",
            133: "イーブイ", 134: "シャワーズ", 135: "サンダース", 136: "ブースター", 137: "ポリゴン", 138: "オムナイト",
            139: "オムスター", 140: "カブト", 141: "カブトプス", 142: "プテラ", 143: "カビゴン", 144: "フリーザー",
            145: "サンダー", 146: "ファイヤー", 147: "ミニリュウ", 148: "ハクリュー", 149: "カイリュー", 150: "ミュウツー",
            151: "ミュウ",

            // Special Characters
            152: "主人公",
            153: "タケシ",
            154: "カスミ",
            155: "マチス",
            156: "エリカ",
            157: "キョウ",
            158: "ナツメ",
            159: "カツラ",
            160: "サカキ"
        };

        const img = document.getElementById('source');

        img.onload = () => {
            const grid = document.getElementById('grid');
            const spriteSize = 128;
            const cols = 4;

            // Calculate total based on image size
            const rows = Math.ceil(img.height / spriteSize);
            const totalSprites = rows * cols;

            // Show up to 160 assuming formatting
            const maxShow = 160;

            for (let i = 0; i < maxShow; i++) {
                const id = i + 1;

                // Break if we run out of vertical image space
                if (Math.floor(i / cols) * spriteSize >= img.height) break;

                const cell = document.createElement('div');
                cell.className = 'cell';

                const canvas = document.createElement('canvas');
                canvas.width = spriteSize;
                canvas.height = spriteSize;
                const ctx = canvas.getContext('2d');

                const col = i % cols;
                const row = Math.floor(i / cols);
                const sx = col * spriteSize;
                const sy = row * spriteSize;

                ctx.drawImage(img, sx, sy, spriteSize, spriteSize, 0, 0, spriteSize, spriteSize);

                const nameDiv = document.createElement('div');
                nameDiv.className = 'name';

                const name = ALL_NAMES[id] || "Unknown";
                nameDiv.textContent = name;

                if (id >= 152) {
                    nameDiv.style.color = id === 152 ? "#ffff88" : "#ff8888";
                }

                const idDiv = document.createElement('div');
                idDiv.className = 'id';
                idDiv.textContent = `ID: ${id}`;

                cell.appendChild(canvas);
                cell.appendChild(nameDiv);
                cell.appendChild(idDiv);
                grid.appendChild(cell);
            }
        };
    </script>
</body>

</html>